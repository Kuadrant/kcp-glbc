apiVersion: integreatly.org/v1alpha1
kind: GrafanaDashboard
metadata:
  name: glbc-dashboard
  labels:
	app: grafana
spec:
  json: >
	{
	  "annotations": {
		"list": [
		  {
			"builtIn": 1,
			"datasource": "-- Grafana --",
			"enable": true,
			"hide": true,
			"iconColor": "rgba(0, 211, 255, 1)",
			"name": "Annotations & Alerts",
			"type": "dashboard"
		  }
		]
	  },
	  "editable": true,
	  "gnetId": null,
	  "graphTooltip": 1,
	  "id": 2,
	  "iteration": 1653488916714,
	  "links": [],
	  "panels": [
		{
		  "collapsed": false,
		  "datasource": null,
		  "gridPos": {
			"h": 1,
			"w": 24,
			"x": 0,
			"y": 0
		  },
		  "id": 39,
		  "panels": [],
		  "title": "Managed ingress objects",
		  "type": "row"
		},
		{
		  "datasource": null,
		  "description": "Shows the total number of managed ingress objects",
		  "fieldConfig": {
			"defaults": {
			  "color": {
				"mode": "thresholds"
			  },
			  "mappings": [],
			  "thresholds": {
				"mode": "absolute",
				"steps": [
				  {
					"color": "green",
					"value": null
				  },
				  {
					"color": "red",
					"value": 80
				  }
				]
			  }
			},
			"overrides": []
		  },
		  "gridPos": {
			"h": 2,
			"w": 5,
			"x": 0,
			"y": 1
		  },
		  "id": 41,
		  "options": {
			"colorMode": "value",
			"graphMode": "area",
			"justifyMode": "auto",
			"orientation": "horizontal",
			"reduceOptions": {
			  "calcs": [
				"lastNotNull"
			  ],
			  "fields": "",
			  "values": false
			},
			"text": {
			  "titleSize": 18,
			  "valueSize": 18
			},
			"textMode": "auto"
		  },
		  "pluginVersion": "7.5.15",
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(glbc_ingress_managed_object_total)",
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total",
			  "refId": "A"
			}
		  ],
		  "title": "Total Ingress objects",
		  "type": "stat"
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows average time of the ingress objects to be admitted in the load balance",
		  "fieldConfig": {
			"defaults": {},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 6,
			"w": 18,
			"x": 5,
			"y": 1
		  },
		  "hiddenSeries": false,
		  "id": 43,
		  "legend": {
			"alignAsTable": false,
			"avg": false,
			"current": false,
			"max": false,
			"min": false,
			"rightSide": false,
			"show": false,
			"total": false,
			"values": false
		  },
		  "lines": true,
		  "linewidth": 1,
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 2,
		  "points": false,
		  "renderer": "flot",
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "histogram_quantile(0.9, sum(rate(glbc_ingress_managed_object_time_to_admission_bucket[5m])))",
			  "interval": "",
			  "legendFormat": "",
			  "refId": "A"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "Average time to ingress admission",
		  "tooltip": {
			"shared": true,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "$$hashKey": "object:182",
			  "format": "s",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			},
			{
			  "$$hashKey": "object:183",
			  "format": "s",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "datasource": null,
		  "gridPos": {
			"h": 1,
			"w": 24,
			"x": 0,
			"y": 7
		  },
		  "id": 15,
		  "title": "AWS Route53 - Requests, Errors & Duration (RED Method)",
		  "type": "row"
		},
		{
		  "datasource": null,
		  "description": "Shows aggregate data on DNS requests to AWS Route53 for the selected time range.\nNote that if a different DNS provider than Route53 is used, these values may be 0.",
		  "fieldConfig": {
			"defaults": {
			  "color": {
				"fixedColor": "green",
				"mode": "fixed"
			  },
			  "decimals": 0,
			  "mappings": [],
			  "thresholds": {
				"mode": "absolute",
				"steps": [
				  {
					"color": "green",
					"value": null
				  }
				]
			  }
			},
			"overrides": []
		  },
		  "gridPos": {
			"h": 7,
			"w": 4,
			"x": 0,
			"y": 8
		  },
		  "id": 2,
		  "options": {
			"colorMode": "value",
			"graphMode": "area",
			"justifyMode": "auto",
			"orientation": "horizontal",
			"reduceOptions": {
			  "calcs": [
				"lastNotNull"
			  ],
			  "fields": "",
			  "values": true
			},
			"text": {
			  "titleSize": 18,
			  "valueSize": 18
			},
			"textMode": "auto"
		  },
		  "pluginVersion": "7.5.15",
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(increase(glbc_aws_route53_request_total{namespace=\"$namespace\"}[$__range]))",
			  "format": "time_series",
			  "hide": false,
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total Requests",
			  "refId": "A"
			},
			{
			  "exemplar": true,
			  "expr": "sum(increase(glbc_aws_route53_request_errors_total{namespace=\"$namespace\"}[$__range]))",
			  "hide": false,
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total Errors",
			  "refId": "B"
			}
		  ],
		  "timeFrom": null,
		  "timeShift": null,
		  "title": "AWS Route53 Requests",
		  "type": "stat"
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows the rate of requests to Route53 for the selected time range. Note that if a different DNS provider than Route53 is used, these values may be 0.",
		  "fieldConfig": {
			"defaults": {},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 8,
			"w": 20,
			"x": 4,
			"y": 8
		  },
		  "hiddenSeries": false,
		  "id": 10,
		  "legend": {
			"avg": false,
			"current": false,
			"max": false,
			"min": false,
			"show": true,
			"total": false,
			"values": false
		  },
		  "lines": true,
		  "linewidth": 1,
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 2,
		  "points": false,
		  "renderer": "flot",
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_aws_route53_request_total{namespace=\"$namespace\"}[$__range]))",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Total Requests",
			  "refId": "C"
			},
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_aws_route53_request_errors_total{namespace=\"$namespace\"}[$__range]))",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Total Errors",
			  "refId": "B"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "AWS Route53 Requests",
		  "tooltip": {
			"shared": true,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "none",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": "0",
			  "show": true
			},
			{
			  "format": "short",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "collapsed": false,
		  "datasource": null,
		  "gridPos": {
			"h": 1,
			"w": 24,
			"x": 0,
			"y": 16
		  },
		  "id": 13,
		  "panels": [],
		  "title": "TLS Certificates - Requests, Errors & Duration (RED Method)",
		  "type": "row"
		},
		{
		  "datasource": null,
		  "description": "The identifier of the certificate issuer configured for the controller in the selected namespace",
		  "fieldConfig": {
			"defaults": {
			  "color": {
				"mode": "thresholds"
			  },
			  "mappings": [],
			  "thresholds": {
				"mode": "absolute",
				"steps": [
				  {
					"color": "rgb(245, 242, 214)",
					"value": null
				  },
				  {
					"color": "red",
					"value": 80
				  }
				]
			  }
			},
			"overrides": []
		  },
		  "gridPos": {
			"h": 2,
			"w": 4,
			"x": 0,
			"y": 17
		  },
		  "id": 9,
		  "options": {
			"colorMode": "value",
			"graphMode": "none",
			"justifyMode": "auto",
			"orientation": "auto",
			"reduceOptions": {
			  "calcs": [
				"lastNotNull"
			  ],
			  "fields": "",
			  "values": false
			},
			"text": {},
			"textMode": "name"
		  },
		  "pluginVersion": "7.5.15",
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "glbc_tls_certificate_secret_count{namespace=\"$namespace\"}",
			  "instant": true,
			  "interval": "",
			  "legendFormat": "{{issuer}}",
			  "refId": "A"
			}
		  ],
		  "timeFrom": null,
		  "timeShift": null,
		  "title": "TLS Cert Issuer",
		  "type": "stat"
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows the rate of certificate requests for the selected time range.",
		  "fieldConfig": {
			"defaults": {},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 8,
			"w": 20,
			"x": 4,
			"y": 17
		  },
		  "hiddenSeries": false,
		  "id": 11,
		  "legend": {
			"avg": false,
			"current": false,
			"max": false,
			"min": false,
			"show": true,
			"total": false,
			"values": false
		  },
		  "lines": true,
		  "linewidth": 1,
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 2,
		  "points": false,
		  "renderer": "flot",
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_tls_certificate_request_total{namespace=\"$namespace\"}[$__range])) by (namespace)",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Total",
			  "refId": "C"
			},
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_tls_certificate_request_total{namespace=\"$namespace\", result=\"succeeded\"}[$__range])) by(namespace)",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Total Succeeded",
			  "refId": "B"
			},
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_tls_certificate_request_total{namespace=\"$namespace\", result=\"failed\"}[$__range])) by (namespace)",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Total Failed",
			  "refId": "A"
			},
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_tls_certificate_secret_count{namespace=\"$namespace\" }[$__range])) by (namespace)",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Total Secrets",
			  "refId": "D"
			},
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_tls_certificate_pending_request_count{namespace=\"$namespace\"}[$__range])) by (namespace)",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Total Pending",
			  "refId": "E"
			},
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_tls_certificate_issuance_duration_seconds_bucket{namespace=\"$namespace\", le=\"+Inf\"}[$__range])) by (namespace) - sum(rate(glbc_tls_certificate_issuance_duration_seconds_bucket{namespace=\"$namespace\" , le=\"300\"}[$__range]))  by (namespace)",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Total > 5min",
			  "refId": "F"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "TLS Cert Requests",
		  "tooltip": {
			"shared": true,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "none",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": "0",
			  "show": true
			},
			{
			  "format": "short",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "datasource": null,
		  "description": "Shows aggregate data on certificate requests for the selected time range.",
		  "fieldConfig": {
			"defaults": {
			  "color": {
				"fixedColor": "green",
				"mode": "fixed"
			  },
			  "decimals": 0,
			  "mappings": [],
			  "thresholds": {
				"mode": "absolute",
				"steps": [
				  {
					"color": "green",
					"value": null
				  }
				]
			  }
			},
			"overrides": []
		  },
		  "gridPos": {
			"h": 6,
			"w": 4,
			"x": 0,
			"y": 19
		  },
		  "id": 7,
		  "options": {
			"colorMode": "value",
			"graphMode": "area",
			"justifyMode": "auto",
			"orientation": "horizontal",
			"reduceOptions": {
			  "calcs": [
				"lastNotNull"
			  ],
			  "fields": "",
			  "values": true
			},
			"text": {
			  "titleSize": 18,
			  "valueSize": 18
			},
			"textMode": "auto"
		  },
		  "pluginVersion": "7.5.15",
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(increase(glbc_tls_certificate_request_total{namespace=\"$namespace\"}[$__range])) by (namespace)",
			  "format": "time_series",
			  "hide": false,
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total",
			  "refId": "A"
			},
			{
			  "exemplar": true,
			  "expr": "sum(increase(glbc_tls_certificate_request_total{namespace=\"$namespace\", result=\"succeeded\"}[$__range])) by(namespace)",
			  "hide": false,
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total Succeeded",
			  "refId": "B"
			},
			{
			  "exemplar": true,
			  "expr": "sum(increase(glbc_tls_certificate_request_total{namespace=\"$namespace\", result=\"failed\"}[$__range])) by (namespace)",
			  "hide": false,
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total Failed",
			  "refId": "C"
			},
			{
			  "exemplar": true,
			  "expr": "sum(increase(glbc_tls_certificate_secret_count{namespace=\"$namespace\" }[$__range])) by (namespace)",
			  "hide": false,
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total Secrets",
			  "refId": "D"
			},
			{
			  "exemplar": true,
			  "expr": "sum(increase(glbc_tls_certificate_pending_request_count{namespace=\"$namespace\"}[$__range])) by (namespace)",
			  "hide": false,
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total Pending",
			  "refId": "E"
			},
			{
			  "exemplar": true,
			  "expr": "sum(increase(glbc_tls_certificate_issuance_duration_seconds_bucket{namespace=\"$namespace\", le=\"+Inf\"}[$__range])) by (namespace) - sum(increase(glbc_tls_certificate_issuance_duration_seconds_bucket{namespace=\"$namespace\" , le=\"300\"}[$__range]))  by (namespace)",
			  "hide": false,
			  "instant": true,
			  "interval": "",
			  "legendFormat": "Total > 5m",
			  "refId": "F"
			}
		  ],
		  "timeFrom": null,
		  "timeShift": null,
		  "title": "TLS Cert Requests",
		  "type": "stat"
		},
		{
		  "collapsed": false,
		  "datasource": null,
		  "gridPos": {
			"h": 1,
			"w": 24,
			"x": 0,
			"y": 25
		  },
		  "id": 17,
		  "panels": [],
		  "title": "Pods - Utilisation, Saturation & Errors (USE Method)",
		  "type": "row"
		},
		{
		  "datasource": null,
		  "description": "Shows the number of pods by status in the selected namespace. Note this is an 'Instant' value i.e. it uses the latest value instead of querying over a range.",
		  "fieldConfig": {
			"defaults": {
			  "color": {
				"mode": "thresholds"
			  },
			  "mappings": [],
			  "thresholds": {
				"mode": "absolute",
				"steps": [
				  {
					"color": "green",
					"value": null
				  },
				  {
					"color": "red",
					"value": 80
				  }
				]
			  }
			},
			"overrides": []
		  },
		  "gridPos": {
			"h": 6,
			"w": 4,
			"x": 0,
			"y": 26
		  },
		  "id": 19,
		  "options": {
			"colorMode": "value",
			"graphMode": "area",
			"justifyMode": "auto",
			"orientation": "horizontal",
			"reduceOptions": {
			  "calcs": [
				"lastNotNull"
			  ],
			  "fields": "",
			  "values": false
			},
			"text": {
			  "titleSize": 18,
			  "valueSize": 18
			},
			"textMode": "auto"
		  },
		  "pluginVersion": "7.5.15",
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(kube_pod_status_phase{namespace=\"$namespace\"}) by(phase)",
			  "instant": true,
			  "interval": "",
			  "legendFormat": "{{phase}}",
			  "refId": "A"
			}
		  ],
		  "title": "Pod Statuses",
		  "type": "stat"
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows pod CPU usage for each pod in the namespace. If set, pod CPU requests and limits are also shown. The legend includes a suffix of the pod name.",
		  "fieldConfig": {
			"defaults": {},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 8,
			"w": 20,
			"x": 4,
			"y": 26
		  },
		  "hiddenSeries": false,
		  "id": 6,
		  "legend": {
			"avg": false,
			"current": false,
			"max": false,
			"min": false,
			"show": true,
			"total": false,
			"values": false
		  },
		  "lines": true,
		  "linewidth": 1,
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 2,
		  "points": false,
		  "renderer": "flot",
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "kube_pod_container_resource_limits{namespace=\"$namespace\", resource=\"cpu\"}",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "CPU Limits {{pod}}",
			  "refId": "C"
			},
			{
			  "exemplar": true,
			  "expr": "kube_pod_container_resource_requests{namespace=\"$namespace\", resource=\"cpu\"}",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "CPU Requests {{pod}}",
			  "refId": "B"
			},
			{
			  "exemplar": true,
			  "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\"}[1m])) by (pod)",
			  "interval": "",
			  "legendFormat": "CPU Usage {{pod}}",
			  "refId": "A"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "CPU",
		  "tooltip": {
			"shared": true,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "percentunit",
			  "label": null,
			  "logBase": 1,
			  "max": "1",
			  "min": null,
			  "show": true
			},
			{
			  "format": "short",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "datasource": null,
		  "description": "Shows the number of container restarts (by pod) over the chosen time range for the selected namespace.",
		  "fieldConfig": {
			"defaults": {
			  "color": {
				"mode": "thresholds"
			  },
			  "mappings": [],
			  "thresholds": {
				"mode": "absolute",
				"steps": [
				  {
					"color": "green",
					"value": null
				  },
				  {
					"color": "red",
					"value": 80
				  }
				]
			  }
			},
			"overrides": []
		  },
		  "gridPos": {
			"h": 6,
			"w": 4,
			"x": 0,
			"y": 32
		  },
		  "id": 20,
		  "options": {
			"colorMode": "value",
			"graphMode": "none",
			"justifyMode": "auto",
			"orientation": "horizontal",
			"reduceOptions": {
			  "calcs": [
				"lastNotNull"
			  ],
			  "fields": "",
			  "values": false
			},
			"text": {
			  "titleSize": 18,
			  "valueSize": 18
			},
			"textMode": "value_and_name"
		  },
		  "pluginVersion": "7.5.15",
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(kube_pod_container_status_restarts_total{namespace=\"$namespace\"}) by(pod)",
			  "instant": false,
			  "interval": "",
			  "legendFormat": "{{pod}}",
			  "refId": "A"
			}
		  ],
		  "title": "Container Restarts",
		  "type": "stat"
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows pod memory usage in MiB (based on RSS) for each pod in the namespace. If set, pod memory requests and limits are also shown. The legend includes a suffix of the pod name.",
		  "fieldConfig": {
			"defaults": {
			  "unit": "bytes"
			},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 8,
			"w": 20,
			"x": 4,
			"y": 34
		  },
		  "hiddenSeries": false,
		  "id": 4,
		  "legend": {
			"avg": false,
			"current": false,
			"max": false,
			"min": false,
			"show": true,
			"total": false,
			"values": false
		  },
		  "lines": true,
		  "linewidth": 1,
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 2,
		  "points": false,
		  "renderer": "flot",
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "kube_pod_container_resource_requests{namespace=\"$namespace\", resource=\"memory\"}",
			  "interval": "",
			  "legendFormat": "Pod Memory Requests {{pod}}",
			  "refId": "A"
			},
			{
			  "exemplar": true,
			  "expr": "kube_pod_container_resource_limits{namespace=\"$namespace\", resource=\"memory\"}",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Pod Memory Limits {{pod}}",
			  "refId": "C"
			},
			{
			  "exemplar": true,
			  "expr": "sum(container_memory_rss{namespace=\"$namespace\", container=\"manager\"}) by (pod)",
			  "hide": false,
			  "interval": "",
			  "legendFormat": "Pod Memory {{pod}}",
			  "refId": "B"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "Memory",
		  "tooltip": {
			"shared": true,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "bytes",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			},
			{
			  "format": "short",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows the total number of Goroutines by pod. Only 1 line is expected for the glbc pod.",
		  "fieldConfig": {
			"defaults": {
			  "links": []
			},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 8,
			"w": 20,
			"x": 4,
			"y": 42
		  },
		  "hiddenSeries": false,
		  "id": 37,
		  "legend": {
			"alignAsTable": false,
			"avg": false,
			"current": false,
			"max": false,
			"min": false,
			"rightSide": false,
			"show": true,
			"total": false,
			"values": false
		  },
		  "lines": true,
		  "linewidth": 1,
		  "links": [],
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 5,
		  "points": false,
		  "renderer": "flot",
		  "repeat": null,
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(go_goroutines{job=\"$namespace/kcp-glbc-controller-manager\"}) by(pod)",
			  "format": "time_series",
			  "interval": "",
			  "intervalFactor": 2,
			  "legendFormat": "{{pod}}",
			  "refId": "A"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "Goroutines",
		  "tooltip": {
			"shared": false,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "short",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			},
			{
			  "format": "short",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "collapsed": false,
		  "datasource": null,
		  "gridPos": {
			"h": 1,
			"w": 24,
			"x": 0,
			"y": 50
		  },
		  "id": 30,
		  "panels": [],
		  "title": "Reconciliation & Workers - Requests, Errors & Duration (RED Method)",
		  "type": "row"
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows the rate of successful reconcile loops",
		  "fieldConfig": {
			"defaults": {
			  "links": []
			},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 7,
			"w": 12,
			"x": 0,
			"y": 51
		  },
		  "hiddenSeries": false,
		  "id": 32,
		  "legend": {
			"alignAsTable": true,
			"avg": false,
			"current": true,
			"max": false,
			"min": false,
			"rightSide": true,
			"show": true,
			"total": false,
			"values": true
		  },
		  "lines": true,
		  "linewidth": 1,
		  "links": [],
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 5,
		  "points": false,
		  "renderer": "flot",
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_controller_reconcile_total{job=\"$namespace/kcp-glbc-controller-manager\",result=\"success\"}[5m])) by (controller)",
			  "format": "time_series",
			  "interval": "",
			  "intervalFactor": 2,
			  "legendFormat": "{{controller}}",
			  "refId": "A"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "Controller Reconcile Rate (success)",
		  "tooltip": {
			"shared": false,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "ops",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": "0",
			  "show": true
			},
			{
			  "format": "ops",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows the rate of resources being queued for processing by each controller.",
		  "fieldConfig": {
			"defaults": {
			  "links": []
			},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 7,
			"w": 12,
			"x": 12,
			"y": 51
		  },
		  "hiddenSeries": false,
		  "id": 34,
		  "legend": {
			"alignAsTable": true,
			"avg": false,
			"current": true,
			"max": false,
			"min": false,
			"rightSide": true,
			"show": true,
			"total": false,
			"values": true
		  },
		  "lines": true,
		  "linewidth": 1,
		  "links": [],
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 5,
		  "points": false,
		  "renderer": "flot",
		  "repeat": null,
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(rate(workqueue_adds_total{job=\"$namespace/kcp-glbc-controller-manager\"}[5m])) by (instance, name)",
			  "format": "time_series",
			  "interval": "",
			  "intervalFactor": 2,
			  "legendFormat": "{{instance}} {{name}}",
			  "refId": "A"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "Work Queue Add Rate",
		  "tooltip": {
			"shared": false,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "ops",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": "0",
			  "show": true
			},
			{
			  "format": "ops",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows the rate of failed/erroring reconcile loops",
		  "fieldConfig": {
			"defaults": {
			  "links": []
			},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 7,
			"w": 12,
			"x": 0,
			"y": 58
		  },
		  "hiddenSeries": false,
		  "id": 33,
		  "legend": {
			"alignAsTable": true,
			"avg": false,
			"current": true,
			"max": false,
			"min": false,
			"rightSide": true,
			"show": true,
			"total": false,
			"values": true
		  },
		  "lines": true,
		  "linewidth": 1,
		  "links": [],
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 5,
		  "points": false,
		  "renderer": "flot",
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(rate(glbc_controller_reconcile_total{job=\"$namespace/kcp-glbc-controller-manager\",result=\"error\"}[5m])) by (controller)",
			  "format": "time_series",
			  "interval": "",
			  "intervalFactor": 2,
			  "legendFormat": "{{controller}}",
			  "refId": "A"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "Controller Reconcile Rate (error)",
		  "tooltip": {
			"shared": false,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "ops",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": "0",
			  "show": true
			},
			{
			  "format": "ops",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows the queue size for each resource controller.",
		  "fieldConfig": {
			"defaults": {
			  "links": []
			},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 7,
			"w": 12,
			"x": 12,
			"y": 58
		  },
		  "hiddenSeries": false,
		  "id": 35,
		  "legend": {
			"alignAsTable": true,
			"avg": false,
			"current": true,
			"max": false,
			"min": false,
			"rightSide": true,
			"show": true,
			"total": false,
			"values": true
		  },
		  "lines": true,
		  "linewidth": 1,
		  "links": [],
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 5,
		  "points": false,
		  "renderer": "flot",
		  "repeat": null,
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "sum(rate(workqueue_depth{job=\"$namespace/kcp-glbc-controller-manager\"}[5m])) by (instance, name)",
			  "format": "time_series",
			  "interval": "",
			  "intervalFactor": 2,
			  "legendFormat": "{{instance}} {{name}}",
			  "refId": "A"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "Work Queue Depth",
		  "tooltip": {
			"shared": false,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "short",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": 0,
			  "show": true
			},
			{
			  "format": "short",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": 0,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		},
		{
		  "aliasColors": {},
		  "bars": false,
		  "dashLength": 10,
		  "dashes": false,
		  "datasource": null,
		  "description": "Shows the queue processing latency for each resource controller.",
		  "fieldConfig": {
			"defaults": {
			  "links": []
			},
			"overrides": []
		  },
		  "fill": 1,
		  "fillGradient": 0,
		  "gridPos": {
			"h": 7,
			"w": 12,
			"x": 12,
			"y": 65
		  },
		  "hiddenSeries": false,
		  "id": 36,
		  "legend": {
			"alignAsTable": true,
			"avg": false,
			"current": true,
			"max": false,
			"min": false,
			"rightSide": true,
			"show": true,
			"total": false,
			"values": true
		  },
		  "lines": true,
		  "linewidth": 1,
		  "links": [],
		  "nullPointMode": "null",
		  "options": {
			"alertThreshold": true
		  },
		  "percentage": false,
		  "pluginVersion": "7.5.15",
		  "pointradius": 5,
		  "points": false,
		  "renderer": "flot",
		  "repeat": null,
		  "seriesOverrides": [],
		  "spaceLength": 10,
		  "stack": false,
		  "steppedLine": false,
		  "targets": [
			{
			  "exemplar": true,
			  "expr": "histogram_quantile(0.99, sum(rate(workqueue_queue_duration_seconds_bucket{job=\"$namespace/kcp-glbc-controller-manager\"}[5m])) by (instance, name, le))",
			  "format": "time_series",
			  "interval": "",
			  "intervalFactor": 2,
			  "legendFormat": "{{instance}} {{name}}",
			  "refId": "A"
			}
		  ],
		  "thresholds": [],
		  "timeFrom": null,
		  "timeRegions": [],
		  "timeShift": null,
		  "title": "Work Queue Latency",
		  "tooltip": {
			"shared": false,
			"sort": 0,
			"value_type": "individual"
		  },
		  "type": "graph",
		  "xaxis": {
			"buckets": null,
			"mode": "time",
			"name": null,
			"show": true,
			"values": []
		  },
		  "yaxes": [
			{
			  "format": "s",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			},
			{
			  "format": "s",
			  "label": null,
			  "logBase": 1,
			  "max": null,
			  "min": null,
			  "show": true
			}
		  ],
		  "yaxis": {
			"align": false,
			"alignLevel": null
		  }
		}
	   ],
	  "refresh": "5s",
	  "schemaVersion": 27,
	  "style": "dark",
	  "tags": [],
	  "templating": {
		"list": [
		  {
			"allValue": null,
			"current": {
			  "selected": false,
			  "text": "kcp-glbc",
			  "value": "kcp-glbc"
			},
			"datasource": null,
			"definition": "label_values(glbc_controller_reconcile_total, namespace)",
			"description": null,
			"error": null,
			"hide": 0,
			"includeAll": false,
			"label": "Namespace (filtered to glbc namespaces)",
			"multi": false,
			"name": "namespace",
			"options": [],
			"query": {
			  "query": "label_values(glbc_controller_reconcile_total, namespace)",
			  "refId": "StandardVariableQuery"
			},
			"refresh": 1,
			"regex": "",
			"skipUrlSync": false,
			"sort": 0,
			"tagValuesQuery": "",
			"tags": [],
			"tagsQuery": "",
			"type": "query",
			"useTags": false
		  }
		]
	  },
	  "time": {
		"from": "now-1h",
		"to": "now"
	  },
	  "timepicker": {
		"refresh_intervals": [],
		"time_options": []
	  },
	  "timezone": "browser",
	  "title": "GLBC",
	  "uid": "75f3d9c692690c6badc848e02a3d6e1b82444622",
	  "version": 16
	}